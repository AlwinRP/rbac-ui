{"ast":null,"code":"// src/apiService.js\n\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:3000';\n\n// Fetch permissions\nexport const fetchPermissions = async () => {\n  const response = await fetch(`${API_URL}/permissions`);\n  if (!response.ok) throw new Error('Failed to fetch permissions');\n  return response.json();\n};\n\n// Fetch roles\nexport const fetchRoles = async () => {\n  const response = await fetch(`${API_URL}/roles`);\n  if (!response.ok) throw new Error('Failed to fetch roles');\n  return response.json();\n};\n\n// Fetch users\nexport const fetchUsers = async () => {\n  const response = await fetch(`${API_URL}/users`);\n  if (!response.ok) throw new Error('Failed to fetch users');\n  return response.json();\n};\n\n// Create a new user\nexport const createUser = async user => {\n  const response = await fetch(`${API_URL}/users`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(user)\n  });\n  if (!response.ok) throw new Error('Failed to create user');\n  return response.json();\n};\n\n// Update a user by ID\nexport const updateUser = async (id, updates) => {\n  const response = await fetch(`${API_URL}/users/${id}`, {\n    method: 'PATCH',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(updates)\n  });\n  if (!response.ok) throw new Error('Failed to update user');\n  return response.json();\n};\n\n// Delete a user by ID\nexport const deleteUser = async id => {\n  const response = await fetch(`${API_URL}/users/${id}`, {\n    method: 'DELETE'\n  });\n  if (!response.ok) throw new Error('Failed to delete user');\n  return response.json();\n};\n\n// Create a new role\nexport const createRole = async role => {\n  const response = await fetch(`${API_URL}/roles`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(role)\n  });\n  if (!response.ok) throw new Error('Failed to create role');\n  return response.json();\n};\n\n// Update a role by ID\nexport const updateRole = async (id, updates) => {\n  const response = await fetch(`${API_URL}/roles/${id}`, {\n    method: 'PATCH',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(updates)\n  });\n  if (!response.ok) throw new Error('Failed to update role');\n  return response.json();\n};\n\n// Delete a role by ID\nexport const deleteRole = async id => {\n  const response = await fetch(`${API_URL}/roles/${id}`, {\n    method: 'DELETE'\n  });\n  if (!response.ok) throw new Error('Failed to delete role');\n  return response.json();\n};\n\n// Create a new permission\nexport const createPermission = async permission => {\n  const response = await fetch(`${API_URL}/permissions`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(permission)\n  });\n  if (!response.ok) throw new Error('Failed to create permission');\n  return response.json();\n};\n\n// Update a permission by ID\nexport const updatePermission = async (id, updates) => {\n  const response = await fetch(`${API_URL}/permissions/${id}`, {\n    method: 'PATCH',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(updates)\n  });\n  if (!response.ok) throw new Error('Failed to update permission');\n  return response.json();\n};\n\n// Delete a permission by ID\nexport const deletePermission = async id => {\n  const response = await fetch(`${API_URL}/permissions/${id}`, {\n    method: 'DELETE'\n  });\n  if (!response.ok) throw new Error('Failed to delete permission');\n  return response.json();\n};\nexport const fetchActiveSessions = async () => {\n  const response = await fetch(`${API_URL}/users/active-sessions`);\n  if (!response.ok) throw new Error('Failed to fetch active sessions');\n  return response.json();\n};","map":{"version":3,"names":["API_URL","process","env","REACT_APP_API_URL","fetchPermissions","response","fetch","ok","Error","json","fetchRoles","fetchUsers","createUser","user","method","headers","body","JSON","stringify","updateUser","id","updates","deleteUser","createRole","role","updateRole","deleteRole","createPermission","permission","updatePermission","deletePermission","fetchActiveSessions"],"sources":["C:/Users/Lenovo/Desktop/webapp/rbac/frontend/src/api.js"],"sourcesContent":["// src/apiService.js\r\n\r\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:3000';\r\n\r\n// Fetch permissions\r\nexport const fetchPermissions = async () => {\r\n    const response = await fetch(`${API_URL}/permissions`);\r\n    if (!response.ok) throw new Error('Failed to fetch permissions');\r\n    return response.json();\r\n};\r\n\r\n// Fetch roles\r\nexport const fetchRoles = async () => {\r\n    const response = await fetch(`${API_URL}/roles`);\r\n    if (!response.ok) throw new Error('Failed to fetch roles');\r\n    return response.json();\r\n};\r\n\r\n// Fetch users\r\nexport const fetchUsers = async () => {\r\n    const response = await fetch(`${API_URL}/users`);\r\n    if (!response.ok) throw new Error('Failed to fetch users');\r\n    return response.json();\r\n};\r\n\r\n// Create a new user\r\nexport const createUser = async (user) => {\r\n    const response = await fetch(`${API_URL}/users`, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(user),\r\n    });\r\n    if (!response.ok) throw new Error('Failed to create user');\r\n    return response.json();\r\n};\r\n\r\n// Update a user by ID\r\nexport const updateUser = async (id, updates) => {\r\n    const response = await fetch(`${API_URL}/users/${id}`, {\r\n        method: 'PATCH',\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(updates),\r\n    });\r\n    if (!response.ok) throw new Error('Failed to update user');\r\n    return response.json();\r\n};\r\n\r\n// Delete a user by ID\r\nexport const deleteUser = async (id) => {\r\n    const response = await fetch(`${API_URL}/users/${id}`, {\r\n        method: 'DELETE',\r\n    });\r\n    if (!response.ok) throw new Error('Failed to delete user');\r\n    return response.json();\r\n};\r\n\r\n// Create a new role\r\nexport const createRole = async (role) => {\r\n    const response = await fetch(`${API_URL}/roles`, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(role),\r\n    });\r\n    if (!response.ok) throw new Error('Failed to create role');\r\n    return response.json();\r\n};\r\n\r\n// Update a role by ID\r\nexport const updateRole = async (id, updates) => {\r\n    const response = await fetch(`${API_URL}/roles/${id}`, {\r\n        method: 'PATCH',\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(updates),\r\n    });\r\n    if (!response.ok) throw new Error('Failed to update role');\r\n    return response.json();\r\n};\r\n\r\n// Delete a role by ID\r\nexport const deleteRole = async (id) => {\r\n    const response = await fetch(`${API_URL}/roles/${id}`, {\r\n        method: 'DELETE',\r\n    });\r\n    if (!response.ok) throw new Error('Failed to delete role');\r\n    return response.json();\r\n};\r\n\r\n// Create a new permission\r\nexport const createPermission = async (permission) => {\r\n    const response = await fetch(`${API_URL}/permissions`, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(permission),\r\n    });\r\n    if (!response.ok) throw new Error('Failed to create permission');\r\n    return response.json();\r\n};\r\n\r\n// Update a permission by ID\r\nexport const updatePermission = async (id, updates) => {\r\n    const response = await fetch(`${API_URL}/permissions/${id}`, {\r\n        method: 'PATCH',\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(updates),\r\n    });\r\n    if (!response.ok) throw new Error('Failed to update permission');\r\n    return response.json();\r\n};\r\n\r\n// Delete a permission by ID\r\nexport const deletePermission = async (id) => {\r\n    const response = await fetch(`${API_URL}/permissions/${id}`, {\r\n        method: 'DELETE',\r\n    });\r\n    if (!response.ok) throw new Error('Failed to delete permission');\r\n    return response.json();\r\n};\r\n\r\n\r\nexport const fetchActiveSessions = async () => {\r\n    const response = await fetch(`${API_URL}/users/active-sessions`);\r\n    if (!response.ok) throw new Error('Failed to fetch active sessions');\r\n    return response.json();\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}